{"version":3,"file":"static/js/638.13fa417d.chunk.js","mappings":"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","sources":["../../node_modules/@kne/global-context/src/createContext.js","../../node_modules/@kne/global-context/src/globalContext.js","../../node_modules/@kne/global-context/src/Global.js"],"sourcesContent":["import React, {\n    createContext as createReactContext, useContext as useReactContext, useRef, useEffect, useSyncExternalStore\n} from \"react\";\n\nconst createContext = (initValue = {}) => {\n    const context = createReactContext(initValue);\n    const {Provider, Consumer} = context;\n    const useContext = () => useReactContext(context);\n\n    return {context, Provider, Consumer, useContext};\n};\n\nexport default createContext;\n\nexport const createSelectorContext = (initValue = {}) => {\n    const {context, Provider, useContext} = createContext(initValue);\n\n    const SelectorProvider = ({value, children}) => {\n        const storeRef = useRef();\n        let store = storeRef.current;\n        if (!store) {\n            const listeners = new Set();\n            store = {\n                value, subscribe: (l) => {\n                    listeners.add(l);\n                    return () => listeners.delete(l);\n                }, notify: () => listeners.forEach((l) => l()),\n            }\n            storeRef.current = store;\n        }\n        useEffect(() => {\n            if (!Object.is(store.value, value)) {\n                store.value = value;\n                store.notify();\n            }\n        });\n        return <Provider value={store}>{children}</Provider>\n    };\n\n    const useSelectorContext = (selector) => {\n        const store = useContext();\n        return useSyncExternalStore(store.subscribe||(()=>{}), () => {\n            return selector(store.value);\n        });\n    };\n\n    return {context, Provider: SelectorProvider, useContext: useSelectorContext};\n};\n","import createContext, {createSelectorContext} from \"./createContext\";\n\nexport const context = createContext({});\n\nexport const {Provider, useContext} = context;\n\nexport const useGlobalContext = useContext;\n\nexport const presetContext = createContext({});\nexport const {Provider: PresetProvider, useContext: usePreset} = presetContext;\nexport const selectorContext = createSelectorContext({});\nexport const {Provider: SelectProvider, useContext: useSelectorContext} = selectorContext;\n\nexport default context;\n","import React, {useState, useCallback, useEffect, useRef} from \"react\";\nimport {Provider, useContext, useSelectorContext, SelectProvider, PresetProvider, usePreset} from \"./globalContext\";\n\nconst Global = ({preset, children, initValue}) => {\n    const [global, setGlobal] = useState(Object.assign({}, initValue));\n\n    const setGlobalValue = useCallback((globalKey, value) => {\n        setGlobal((global) => {\n            return Object.assign({}, global, {[globalKey]: typeof value === \"function\" ? value(global[globalKey]) : value});\n        });\n    }, []);\n\n    return <Provider value={{global, setGlobal, setGlobalValue}}>\n        <PresetProvider value={preset}>\n            <SelectProvider value={global}>\n                {children}\n            </SelectProvider>\n        </PresetProvider>\n    </Provider>;\n};\n\nexport const GlobalSetting = ({loader, needReady = true, children}) => {\n    const [loaded, setLoaded] = useState(false);\n    const {global, setGlobal} = useContext();\n    const globalRef = useRef(null);\n    const loaderRef = useRef(loader);\n    useEffect(() => {\n        Promise.resolve(loaderRef.current).then((target) => {\n            setGlobal((global) => {\n                const nextGlobal = Object.assign({}, global, target);\n                globalRef.current = nextGlobal;\n                return nextGlobal;\n            });\n        });\n    }, []);\n\n    useEffect(() => {\n        if (global === globalRef.current) {\n            setLoaded(true);\n        }\n    }, [global]);\n\n    if (needReady && !loaded) {\n        return null;\n    }\n\n    return children;\n};\n\nexport const useGlobalValue = (globalKey) => {\n    return useSelectorContext(global => global?.[globalKey]);\n};\n\nexport const GlobalValue = ({globalKey, children}) => {\n    const value = useGlobalValue(globalKey);\n    return children({value});\n};\n\nexport const Preset = ({children}) => {\n    const preset = usePreset();\n    return children(preset);\n};\n\nexport default Global;\n"],"names":["createContext","initValue","arguments","length","undefined","context","createContext$1","Provider","Consumer","useContext","useContext$1","useGlobalContext","presetContext","PresetProvider","usePreset","selectorContext","_ref","value","children","storeRef","useRef","store","current","listeners","Set","subscribe","l","add","delete","notify","forEach","useEffect","Object","is","React","selector","useSyncExternalStore","createSelectorContext","SelectProvider","useSelectorContext","Global","_ref2","preset","global","setGlobal","useState","assign","setGlobalValue","useCallback","globalKey","GlobalSetting","_ref3","loader","needReady","_needReady","loaded","setLoaded","globalRef","loaderRef","Promise","resolve","then","target","nextGlobal","useGlobalValue","GlobalValue","_ref4","Preset","_ref5"],"ignoreList":[],"sourceRoot":""}
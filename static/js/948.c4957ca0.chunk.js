(self.webpackChunk_kne_components_system_layout=self.webpackChunk_kne_components_system_layout||[]).push([[948],{59169(e){function a(e){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a})}a.keys=()=>[],a.resolve=a,a.id=59169,e.exports=a},98330(e,a,n){"use strict";n.r(a),n.d(a,{Layout:()=>je,Page:()=>ve,default:()=>je,isMobile:()=>pe,useLayoutContext:()=>he});var s=n(94922),t=n(28833),l=n(54159),i=n.n(l),r=n(32662),o=n(33756),c=n(89261),m=n(94679),d=n(87320),p=n(70206),u=n.n(p),h=n(14888),x=n.n(h),g=n(85714);const f=n.p+"static/media/defaultLogo~beHinxEU.96e61eeb90a1f49f52d2b5c795f48f29.svg";var j,y;const v=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},b.apply(null,arguments)}function N(e,a){let{title:n,titleId:t}=e,l=function(e,a){if(null==e)return{};var n,s,t=function(e,a){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==a.indexOf(s))continue;n[s]=e[s]}return n}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],-1===a.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}(e,v);return s.createElement("svg",b({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:a,"aria-labelledby":t},l),n?s.createElement("title",{id:t},n):null,s.createElement("mask",{id:"mask0_2_3763",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},j||(j=s.createElement("rect",{width:24,height:24,fill:"#D9D9D9"}))),y||(y=s.createElement("g",{mask:"url(#mask0_2_3763)"},s.createElement("path",{d:"M10.1484 16.15L6.69844 12.7C6.49844 12.5 6.39844 12.2667 6.39844 12C6.39844 11.7333 6.49844 11.5 6.69844 11.3L10.1484 7.85C10.3151 7.68333 10.4984 7.64167 10.6984 7.725C10.8984 7.80833 10.9984 7.96667 10.9984 8.2V15.8C10.9984 16.0333 10.8984 16.1917 10.6984 16.275C10.4984 16.3583 10.3151 16.3167 10.1484 16.15ZM12.9984 20V4C12.9984 3.71667 13.0943 3.47917 13.2859 3.2875C13.4776 3.09583 13.7151 3 13.9984 3C14.2818 3 14.5193 3.09583 14.7109 3.2875C14.9026 3.47917 14.9984 3.71667 14.9984 4V20C14.9984 20.2833 14.9026 20.5208 14.7109 20.7125C14.5193 20.9042 14.2818 21 13.9984 21C13.7151 21 13.4776 20.9042 13.2859 20.7125C13.0943 20.5208 12.9984 20.2833 12.9984 20Z",fill:"black",fillOpacity:.6}))))}const _=s.forwardRef(N);n.p;var C=n(43373),w=n(20274),O=n(20046),k=(n(1251),n(85553));function E(){return E=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E.apply(null,arguments)}var F="_sK89O",A="_-LpWn",M="_G-zuN",T="_6TCwG",L="_5qnw5",P="_HnwkM",I="_h8PAW",S="_OM1Q2",B="_udBgQ",D="_7wq3X",U="_-T-Dc",R="_LOrmu",V="_2cRWf",z="_5D-Oq",q="_8dzE7",W="_b7XeQ",H="_U0YTk",K="_8gqbZ",X="_UAJc-",Z="_I7Anv",G="_UhsFd",Q="_2mdNn",Y="_6gjkS",J="_nyAa2",$="_33Tja",ee="_YmBhl";const ae=e=>{let{name:a,avatar:n,email:s,phone:l,description:r,menuOpen:m}=e;return m?(0,c.jsxs)(t.Flex,{gap:12,justify:"center",children:[(0,c.jsx)(o._V.Avatar,{id:n,src:n,shape:"circle",size:40,alt:"avatar"}),(0,c.jsxs)(t.Flex,{vertical:!0,children:[(0,c.jsx)("div",{className:i()("username",W),children:a||"-"}),(0,c.jsx)("div",{className:i()("user-description",H),children:s||l||r||"-"})]})]}):(0,c.jsx)(o._V.Avatar,{id:n,src:n,shape:"circle",size:40,alt:"avatar"})};var ne={"menu-group":"_Rfzv4","menu-item-icon":"_qoDtD","menu-group-split":"_socoO","menu-item":"_Xa-2h"};const se=e=>{let{className:a,menuOpen:n,items:l,activeKey:r,base:o="",onChange:p}=e;const h=(0,m.useLocation)(),g=(0,m.useNavigate)(),f=o?h.pathname.replace(new RegExp("^".concat(o)),""):h.pathname;return(0,c.jsx)("div",{className:i()("menu",a,ne["menu-list"]),children:l.map((e,a)=>{var m;const h="string"===typeof r?r===e.key:"function"===typeof r?r(e,{menuOpen:n,base:o}):"string"===typeof e.path&&u()(f)===u()(e.path),j="function"===typeof e.icon?e.icon({menuOpen:n,active:h}):e.icon,y=e.group&&e.group!==(null==(m=l[a-1])?void 0:m.group);return(0,c.jsxs)("div",{title:e.label,onClick:a=>{h||(p&&p(e,{menuOpen:n,base:o}),"function"!==typeof e.onClick?e.path&&g(u()("".concat(o).concat(e.path))):e.onClick(e,{menuOpen:n,base:o,event:a}))},children:[y&&n?(0,c.jsx)("div",{className:i()("menu-group",ne["menu-group"]),children:e.groupLabel||e.group}):null,y&&!n?(0,c.jsx)("div",{className:i()("menu-group-split",ne["menu-group-split"])}):null,(0,c.jsxs)(t.Flex,{className:i()("menu-item",ne["menu-item"],{"is-active":h,"is-closed":!n}),align:"center",gap:8,children:[(e=>"string"===typeof e?(0,c.jsx)(d.default,{className:i()("menu-item-icon",ne["menu-item-icon"]),type:e,fontClassName:"system"}):(0,s.isValidElement)(e)?(0,c.jsx)("span",{className:i()("menu-item-icon",ne["menu-item-icon"]),children:e}):x()(e)&&"string"===typeof e.type?(0,c.jsx)(d.default,E({},e,{className:i()("menu-item-icon",ne["menu-item-icon"])})):null)(j),n&&e.label]})]},e.key||e.path||a)})})};var te="_SLK-0",le="_GTQvM",ie="_fAZ3n",re="_qOB9o",oe="_h48es";const ce=e=>{let{show:a=!0,className:n,items:l,activeKey:r,base:o="",onChange:p,target:h}=e;const f=(0,m.useLocation)(),j=(0,m.useNavigate)(),y=o?f.pathname.replace(new RegExp("^".concat(o)),""):f.pathname,v=l.filter(e=>e.toolbar);return a?(0,g.createPortal)((0,c.jsx)("div",{className:i()("toolbar",te,n),children:(0,c.jsx)(t.Flex,{className:i()("toolbar-list",le),children:v.map((e,a)=>{const n="string"===typeof r?r===e.key:"function"===typeof r?r(e,{base:o}):"string"===typeof e.path&&u()(y)===u()(e.path),l="function"===typeof e.icon?e.icon({active:n}):e.icon;return(0,c.jsxs)(t.Flex,{vertical:!0,flex:1,justify:"center",align:"center",className:i()("toolbar-item",ie,{"is-active":n}),onClick:a=>{n||(p&&p(e,{base:o}),"function"!==typeof e.onClick?e.path&&j(u()("".concat(o).concat(e.path))):e.onClick(e,{menuOpen:menuOpen,base:o,event:a}))},children:[(e=>"string"===typeof e?(0,c.jsx)(d.default,{className:i()("toolbar-item-icon",re),type:e,fontClassName:"system"}):(0,s.isValidElement)(e)?(0,c.jsx)("span",{className:i()("toolbar-item-icon",re),children:e}):x()(e)&&"string"===typeof e.type?(0,c.jsx)(d.default,E({},e,{className:i()("toolbar-item-icon",re)})):null)(l),(0,c.jsx)("div",{className:i()("toolbar-item-label",oe),children:e.label})]},e.key||e.path||a)})})}),h?"function"===typeof h?h():h:document.body):null},me=(0,w.createWithIntlProvider)({defaultLocale:"zh-CN",messages:{"zh-CN":{systemError:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",refresh:"\u5237\u65b0"},"en-US":{systemError:"The system encountered a minor issue, please refresh the page to resolve it",refresh:"Refresh"}},namespace:"system-layout"})(()=>{const{formatMessage:e}=(0,w.useIntl)();return(0,c.jsx)(t.Alert,{message:e({id:"systemError"}),showIcon:!0,type:"error",action:(0,c.jsx)(t.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:e({id:"refresh"})})})}),de=e=>(0,c.jsx)(C.A,E({},e,{errorComponent:me})),pe=()=>/iPhone|iPod|Android|ios|iPad/i.test(navigator.userAgent),ue=(0,s.createContext)({}),he=()=>(0,s.useContext)(ue),{Provider:xe,Consumer:ge}=ue,fe="LAYOUT_MENU_OPEN",je=e=>{let{className:a,menu:n,background:l="linear-gradient(0deg, #BBCFE7 0%, #BBCFE7 100%), #FFFFFF",menuMaxWidth:m="254px",menuMinWidth:p="84px",logo:u,menuHeader:h,userInfo:x,aiDialog:g=null,openScrollbar:j,isMobile:y,toolbarTarget:v,children:b}=e;const N=r.A.getItem(fe),[C,w]=(0,s.useState)("boolean"!==typeof N||N),[k,W]=(0,s.useState)(!0),[H,ne]=(0,s.useState)("closed"),te="boolean"===typeof y?y:pe(),le="boolean"===typeof j?j:!te&&!window.__COMPONENTS_CORE_SIMPLE_BAR_DISABLED,ie=null==x?void 0:x.avatar,re=(0,s.useMemo)(()=>({setToolbarShow:W,setMenuOpen:w,deviceIsMobile:te,logo:Object.assign({},u||{src:f}),userAvatar:ie}),[te,u,ie]);return(0,c.jsx)(xe,{value:re,children:(0,c.jsxs)("div",{className:i()(a,"layout",F,{"is-mobile":te,[B]:te}),style:{"--menu-max-width":m,"--menu-min-width":p,"--background":l},children:[te&&(0,c.jsx)("div",{className:i()("layer-menu",T,{open:C,[M]:C}),onClick:()=>{w(!1)}}),(0,c.jsxs)(t.Flex,{children:[(0,c.jsxs)("div",{className:i()("menu",A,{open:C,[M]:C}),children:[(0,c.jsx)("div",{className:i()("logo",U),children:(0,c.jsx)(o._V,E({className:V},re.logo))}),(0,c.jsx)("div",{className:i()("expand-btn-wrapper",z),onClick:()=>{w(e=>(r.A.setItem(fe,!e),!e))},children:(0,c.jsx)(_,{className:i()("expand-btn",q,{"is-closed":!C})})}),(0,c.jsxs)("div",{className:i()("menu-inner",D),children:[(0,c.jsx)("div",{className:i()("menu-header",R),children:(0,c.jsx)(de,{children:h?"function"===typeof h?h({menuOpen:C}):h:(0,c.jsx)(ae,E({menuOpen:C},Object.assign({},x)))})}),(0,c.jsx)(de,{children:(0,c.jsx)(se,E({className:i()("menu-list",K),menuOpen:C},n,{onChange:()=>{te&&w(!1)}}))}),g&&(0,c.jsx)("div",{className:i()("ai-entry",L),onClick:()=>{ne("small")},children:(0,c.jsx)(d.default,{type:"system-prompt",colorful:!0})})]})]}),(0,c.jsx)(t.Flex,{flex:1,className:i()("page",P),children:(0,c.jsxs)(t.Row,{className:i()("page-content",J),children:[!te&&g&&"inner"===H&&(0,c.jsx)(t.Col,{span:8,className:i()("page-dialog-outer",Z),children:(0,c.jsxs)("div",{className:i()("page-dialog",G),children:[(0,c.jsxs)(t.Flex,{className:i()("ai-dialog-window-title",$),children:[(0,c.jsx)("div",{children:g.title}),(0,c.jsx)(t.Flex,{gap:10,children:(0,c.jsx)(d.default,{className:"btn",type:"icon-a-Typeclose",fontClassName:"system",onClick:()=>{ne("closed")}})})]}),(0,c.jsx)(de,{children:(0,c.jsx)("div",{className:i()("page-window-content",Q),children:g.content})})]})}),(0,c.jsx)(t.Col,{span:!te&&g&&"inner"===H?16:24,children:(0,c.jsx)(de,{children:le?(0,c.jsx)(O.A,{className:i()("page-children",S,{"has-left":"inner"===H}),children:b}):(0,c.jsx)("div",{className:i()("page-children","is-scroller",S,Y,{"has-left":"inner"===H}),children:b})})})]})}),g&&"small"===H&&(0,c.jsxs)("div",{className:i()("ai-dialog-window",X),children:[(0,c.jsxs)(t.Flex,{className:i()("ai-dialog-window-title",$),children:[(0,c.jsx)("div",{children:g.title}),(0,c.jsxs)(t.Flex,{gap:10,children:[(0,c.jsx)(d.default,{className:"btn",type:"icon-a-Typeopen_in_full",fontClassName:"system",onClick:()=>{ne("inner")}}),(0,c.jsx)(d.default,{className:"btn",type:"icon-a-Typeclose",fontClassName:"system",onClick:()=>{ne("closed")}})]})]}),(0,c.jsx)(de,{children:(0,c.jsx)("div",{className:i()("ai-dialog-window-content",ee),children:g.content})})]})]}),(0,c.jsx)(ce,E({},n,{className:i()(I),show:k,target:v}))]})})};var ye={page:"_c1kXt","page-header":"_h-YXH","page-title":"_IOVGr","page-title-extra":"_mKsLu","page-inner":"_wHWje","is-mobile":"_yRZMx","back-icon":"_07Mna"};const ve=e=>{let{title:a,extra:n=null,back:l,buttonProps:r,children:m,toolbar:p}=e;const{setToolbarShow:u,setMenuOpen:h,deviceIsMobile:x,userAvatar:g}=he();return(0,s.useEffect)(()=>{u&&u(p)},[p]),(0,c.jsxs)(t.Flex,{vertical:!0,gap:24,className:i()("page",ye.page,{"is-mobile":x,[ye["is-mobile"]]:x}),children:[(0,c.jsxs)(t.Flex,{justify:"space-between",align:"center",gap:20,className:i()("page-header",ye["page-header"]),children:[(0,c.jsxs)(t.Flex,{className:i()("page-title-outer",ye["page-title-outer"]),align:"center",gap:4,children:[l&&(0,c.jsx)(t.Button,{type:"text",icon:(0,c.jsx)(d.default,{className:ye["back-icon"],type:"a-Typearrow_forward_ios",fontClassName:"system"})}),!l&&x&&(0,c.jsx)(t.Button,{type:"link",icon:(0,c.jsx)(d.default,{className:ye["back-icon"],type:"a-Typeequal",fontClassName:"system"}),onClick:()=>{h(e=>!e)}}),(0,c.jsx)("div",{className:i()("page-title",ye["page-title"]),children:a})]}),(0,c.jsx)("div",{className:i()("page-title-extra",ye["page-title-extra"]),children:r?x?(0,c.jsxs)(t.Flex,{gap:4,align:"center",children:[(0,c.jsx)(k.Ay,E({},Object.assign({},r,x?{showLength:0,moreType:"link"}:{}))),(0,c.jsx)(o._V.Avatar,{id:g,src:g,shape:"circle",size:30,alt:"avatar"})]}):(0,c.jsx)(k.Ay,E({},r)):n})]}),(0,c.jsx)("div",{className:i()("page-inner",ye["page-inner"]),children:m})]})};n.e(239).then(n.t.bind(n,96239,23))}}]);
//# sourceMappingURL=948.c4957ca0.chunk.js.map
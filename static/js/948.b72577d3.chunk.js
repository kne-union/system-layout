(self.webpackChunk_kne_components_system_layout=self.webpackChunk_kne_components_system_layout||[]).push([[948],{59169(e){function n(e){return Promise.resolve().then(()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n})}n.keys=()=>[],n.resolve=n,n.id=59169,e.exports=n},98330(e,n,s){"use strict";s.r(n),s.d(n,{Layout:()=>Oe,Page:()=>Ue,default:()=>Oe,isMobile:()=>we,themeToken:()=>We,useIsMobile:()=>Ce,useLayoutContext:()=>Ne});var a=s(94922),t=s(28833),l=s(54159),i=s.n(l),r=s(32662),o=s(33756),c=s(89261),d=s(94679),m=s(87320),u=s(70206),p=s.n(u),h=s(14888),x=s.n(h),f=s(85714);const g=s.p+"static/media/defaultLogo~beHinxEU.96e61eeb90a1f49f52d2b5c795f48f29.svg";var j,v;const y=["title","titleId"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},N.apply(null,arguments)}function b(e,n){let{title:s,titleId:t}=e,l=function(e,n){if(null==e)return{};var s,a,t=function(e,n){if(null==e)return{};var s={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==n.indexOf(a))continue;s[a]=e[a]}return s}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)s=l[a],-1===n.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(t[s]=e[s])}return t}(e,y);return a.createElement("svg",N({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":t},l),s?a.createElement("title",{id:t},s):null,a.createElement("mask",{id:"mask0_2_3763",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:24,height:24},j||(j=a.createElement("rect",{width:24,height:24,fill:"#D9D9D9"}))),v||(v=a.createElement("g",{mask:"url(#mask0_2_3763)"},a.createElement("path",{d:"M10.1484 16.15L6.69844 12.7C6.49844 12.5 6.39844 12.2667 6.39844 12C6.39844 11.7333 6.49844 11.5 6.69844 11.3L10.1484 7.85C10.3151 7.68333 10.4984 7.64167 10.6984 7.725C10.8984 7.80833 10.9984 7.96667 10.9984 8.2V15.8C10.9984 16.0333 10.8984 16.1917 10.6984 16.275C10.4984 16.3583 10.3151 16.3167 10.1484 16.15ZM12.9984 20V4C12.9984 3.71667 13.0943 3.47917 13.2859 3.2875C13.4776 3.09583 13.7151 3 13.9984 3C14.2818 3 14.5193 3.09583 14.7109 3.2875C14.9026 3.47917 14.9984 3.71667 14.9984 4V20C14.9984 20.2833 14.9026 20.5208 14.7109 20.7125C14.5193 20.9042 14.2818 21 13.9984 21C13.7151 21 13.4776 20.9042 13.2859 20.7125C13.0943 20.5208 12.9984 20.2833 12.9984 20Z",fill:"black",fillOpacity:.6}))))}const _=a.forwardRef(b);s.p;var w=s(43373),C=s(20274),k=s(20046),O=s(98771),E=s.n(O),F=(s(1251),s(85553)),A=s(64755),L=s.n(A),M=s(9211),P=s.n(M);function S(){return S=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var a in s)({}).hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},S.apply(null,arguments)}var T="_sK89O",I="_gyKfI",B="_X1wZG",D="_-LpWn",z="_G-zuN",R="_6TCwG",U="_5qnw5",V="_HnwkM",W="_h8PAW",q="_OM1Q2",X="_udBgQ",G="_7wq3X",K="_-T-Dc",Z="_LOrmu",H="_2cRWf",Y="_5D-Oq",Q="_8dzE7",J="_b7XeQ",$="_U0YTk",ee="_8gqbZ",ne="_UAJc-",se="_I7Anv",ae="_UhsFd",te="_2mdNn",le="_6gjkS",ie="_nyAa2",re="_33Tja",oe="_YmBhl";const ce=e=>{let{name:n,avatar:s,email:a,phone:l,description:r,menuOpen:d}=e;return d?(0,c.jsxs)(t.Flex,{gap:12,justify:"center",children:[(0,c.jsx)(o._V.Avatar,{id:s,src:s,shape:"circle",size:40,alt:"avatar"}),(0,c.jsxs)(t.Flex,{vertical:!0,children:[(0,c.jsx)("div",{className:i()("username",J),children:n||"-"}),(0,c.jsx)("div",{className:i()("user-description",$),children:a||l||r||"-"})]})]}):(0,c.jsx)(o._V.Avatar,{id:s,src:s,shape:"circle",size:40,alt:"avatar"})};var de={"menu-group":"_Rfzv4","menu-item-icon":"_qoDtD","menu-group-split":"_socoO","menu-item":"_Xa-2h"};const me=e=>{let{className:n,menuOpen:s,items:l,activeKey:r,base:o="",onChange:u}=e;const h=(0,d.useLocation)(),f=(0,d.useNavigate)(),g=o?h.pathname.replace(new RegExp("^".concat(o)),""):h.pathname;return(0,c.jsx)("div",{className:i()("menu",n,de["menu-list"]),children:l.map((e,n)=>{var d;const h="string"===typeof r?r===e.key:"function"===typeof r?r(e,{menuOpen:s,base:o}):"string"===typeof e.path&&p()(g)===p()(e.path),j="function"===typeof e.icon?e.icon({menuOpen:s,active:h}):e.icon,v=e.group&&e.group!==(null==(d=l[n-1])?void 0:d.group);return(0,c.jsxs)("div",{title:e.label,onClick:n=>{h||(u&&u(e,{menuOpen:s,base:o}),"function"!==typeof e.onClick?e.path&&f(p()("".concat(o).concat(e.path))):e.onClick(e,{menuOpen:s,base:o,event:n}))},children:[v&&s?(0,c.jsx)("div",{className:i()("menu-group",de["menu-group"]),children:e.groupLabel||e.group}):null,v&&!s?(0,c.jsx)("div",{className:i()("menu-group-split",de["menu-group-split"])}):null,(0,c.jsxs)(t.Flex,{className:i()("menu-item",de["menu-item"],{"is-active":h,"is-closed":!s}),align:"center",gap:8,children:[(e=>"string"===typeof e?(0,c.jsx)(m.default,{className:i()("menu-item-icon",de["menu-item-icon"]),type:e,fontClassName:"system"}):(0,a.isValidElement)(e)?(0,c.jsx)("span",{className:i()("menu-item-icon",de["menu-item-icon"]),children:e}):x()(e)&&"string"===typeof e.type?(0,c.jsx)(m.default,S({},e,{className:i()("menu-item-icon",de["menu-item-icon"])})):null)(j),s&&e.label]})]},e.key||e.path||n)})})};var ue="_SLK-0",pe="_GTQvM",he="_fAZ3n",xe="_qOB9o",fe="_h48es";const ge=e=>{let{show:n=!0,className:s,items:l,activeKey:r,base:o="",onChange:u,target:h}=e;const g=(0,d.useLocation)(),j=(0,d.useNavigate)(),v=o?g.pathname.replace(new RegExp("^".concat(o)),""):g.pathname,y=l.filter(e=>e.toolbar);return n?(0,c.jsx)("div",{className:i()("toolbar",ue,s),children:(0,f.createPortal)((0,c.jsx)(t.Flex,{className:i()("toolbar-list",pe),children:y.map((e,n)=>{const s="string"===typeof r?r===e.key:"function"===typeof r?r(e,{base:o}):"string"===typeof e.path&&p()(v)===p()(e.path),l="function"===typeof e.icon?e.icon({active:s}):e.icon;return(0,c.jsxs)(t.Flex,{vertical:!0,flex:1,justify:"center",align:"center",gap:8,className:i()("toolbar-item",he,{"is-active":s}),onClick:n=>{s||(u&&u(e,{base:o}),"function"!==typeof e.onClick?e.path&&j(p()("".concat(o).concat(e.path))):e.onClick(e,{menuOpen:menuOpen,base:o,event:n}))},children:[(e=>"string"===typeof e?(0,c.jsx)(m.default,{className:i()("toolbar-item-icon",xe),type:e,fontClassName:"system"}):(0,a.isValidElement)(e)?(0,c.jsx)("span",{className:i()("toolbar-item-icon",xe),children:e}):x()(e)&&"string"===typeof e.type?(0,c.jsx)(m.default,S({},e,{className:i()("toolbar-item-icon",xe)})):null)(l),(0,c.jsx)("div",{className:i()("toolbar-item-label",fe),children:e.label})]},e.key||e.path||n)})}),h?"function"===typeof h?h():h:document.body)}):null},je=(0,C.createWithIntlProvider)({defaultLocale:"zh-CN",messages:{"zh-CN":{systemError:"\u7cfb\u7edf\u51fa\u4e86\u70b9\u5c0f\u95ee\u9898\uff0c\u53ef\u5237\u65b0\u9875\u9762\u8fdb\u884c\u89e3\u51b3",refresh:"\u5237\u65b0"},"en-US":{systemError:"The system encountered a minor issue, please refresh the page to resolve it",refresh:"Refresh"}},namespace:"system-layout"})(()=>{const{formatMessage:e}=(0,C.useIntl)();return(0,c.jsx)(t.Alert,{message:e({id:"systemError"}),showIcon:!0,type:"error",action:(0,c.jsx)(t.Button,{size:"small",danger:!0,onClick:()=>window.location.reload(),children:e({id:"refresh"})})})}),ve=e=>(0,c.jsx)(w.A,S({},e,{errorComponent:je})),ye=(0,a.createContext)({}),Ne=()=>(0,a.useContext)(ye),{Provider:be,Consumer:_e}=ye,we=()=>/iPhone|iPod|Android|ios|iPad/i.test(navigator.userAgent)||window.innerWidth<768,Ce=()=>{const[e,n]=(0,a.useState)(()=>we());return(0,a.useEffect)(()=>{const e=E()(()=>{n(we())},500);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),e},ke="LAYOUT_MENU_OPEN",Oe=e=>{let{className:n,menu:s,background:l="linear-gradient(0deg, #BBCFE7 0%, #BBCFE7 100%), #FFFFFF",menuMaxWidth:u="254px",menuMinWidth:p="84px",logo:h,menuHeader:x,userInfo:f,aiDialog:j=null,openScrollbar:v,isMobile:y,toolbarTarget:N,children:b}=e;const w=r.A.getItem(ke),C=Ce(),O="boolean"===typeof y?y:C,[E,F]=(0,a.useState)("boolean"!==typeof w||O?!O:w),[A,L]=(0,a.useState)(!0),[M,P]=(0,a.useState)(!0),[J,$]=(0,a.useState)("closed"),de="boolean"===typeof v?v:!O&&!window.__COMPONENTS_CORE_SIMPLE_BAR_DISABLED,ue=null==f?void 0:f.avatar,pe=(0,a.useMemo)(()=>({setToolbarShow:L,setNavbarShow:P,setMenuOpen:F,deviceIsMobile:O,logo:Object.assign({},h||{src:g}),userAvatar:ue}),[O,h,ue]),he=(0,a.useRef)(null),xe=(0,d.useLocation)();return(0,a.useEffect)(()=>{he.current&&he.current.scrollIntoView()},[xe]),(0,c.jsxs)(be,{value:pe,children:[(0,c.jsx)("div",{ref:he}),(0,c.jsxs)("div",{className:i()(n,"layout",T,{"is-mobile":O,[X]:O,"has-toolbar":O&&A,[I]:O&&A,"has-navbar":O&&M,[B]:O&&M}),style:{"--menu-max-width":u,"--menu-min-width":p,"--background":l},children:[O&&(0,c.jsx)("div",{className:i()("layer-menu",R,{open:E,[z]:E}),onClick:()=>{F(!1)}}),(0,c.jsxs)(t.Flex,{children:[(0,c.jsxs)("div",{className:i()("menu",D,{open:E,[z]:E}),children:[(0,c.jsx)("div",{className:i()("logo",K),children:(0,c.jsx)(o._V,S({className:H},pe.logo))}),(0,c.jsx)("div",{className:i()("expand-btn-wrapper",Y),onClick:()=>{F(e=>(r.A.setItem(ke,!e),!e))},children:(0,c.jsx)(_,{className:i()("expand-btn",Q,{"is-closed":!E})})}),(0,c.jsxs)("div",{className:i()("menu-inner",G),children:[(0,c.jsx)("div",{className:i()("menu-header",Z),children:(0,c.jsx)(ve,{children:x?"function"===typeof x?x({menuOpen:E}):x:(0,c.jsx)(ce,S({menuOpen:E},Object.assign({},f)))})}),(0,c.jsx)(ve,{children:(0,c.jsx)(me,S({className:i()("menu-list",ee),menuOpen:E},s,{onChange:()=>{O&&F(!1)}}))}),j&&(0,c.jsx)("div",{className:i()("ai-entry",U),onClick:()=>{$("small")},children:(0,c.jsx)(m.default,{type:"system-prompt",colorful:!0})})]})]}),(0,c.jsx)(t.Flex,{flex:1,className:i()("page",V),children:(0,c.jsxs)(t.Row,{className:i()("page-content",ie),children:[!O&&j&&"inner"===J&&(0,c.jsx)(t.Col,{span:8,className:i()("page-dialog-outer",se),children:(0,c.jsxs)("div",{className:i()("page-dialog",ae),children:[(0,c.jsxs)(t.Flex,{className:i()("ai-dialog-window-title",re),children:[(0,c.jsx)("div",{children:j.title}),(0,c.jsx)(t.Flex,{gap:10,children:(0,c.jsx)(m.default,{className:"btn",type:"icon-a-Typeclose",fontClassName:"system",onClick:()=>{$("closed")}})})]}),(0,c.jsx)(ve,{children:(0,c.jsx)("div",{className:i()("page-window-content",te),children:j.content})})]})}),(0,c.jsx)(t.Col,{span:!O&&j&&"inner"===J?16:24,children:(0,c.jsx)(ve,{children:de?(0,c.jsx)(k.A,{className:i()("page-children",q,{"has-left":"inner"===J}),children:b}):(0,c.jsx)("div",{className:i()("page-children","is-scroller",q,le,{"has-left":"inner"===J}),children:b})})})]})}),j&&"small"===J&&(0,c.jsxs)("div",{className:i()("ai-dialog-window",ne),children:[(0,c.jsxs)(t.Flex,{className:i()("ai-dialog-window-title",re),children:[(0,c.jsx)("div",{children:j.title}),(0,c.jsxs)(t.Flex,{gap:10,children:[(0,c.jsx)(m.default,{className:"btn",type:"icon-a-Typeopen_in_full",fontClassName:"system",onClick:()=>{$("inner")}}),(0,c.jsx)(m.default,{className:"btn",type:"icon-a-Typeclose",fontClassName:"system",onClick:()=>{$("closed")}})]})]}),(0,c.jsx)(ve,{children:(0,c.jsx)("div",{className:i()("ai-dialog-window-content",oe),children:j.content})})]})]}),(0,c.jsx)(ge,S({},s,{className:i()(W),show:O&&A,target:N}))]})]})};var Ee="_c1kXt",Fe="_h-YXH",Ae="_IOVGr",Le="_mKsLu",Me="_wHWje",Pe="_tBnAD",Se="_yRZMx",Te="_jhcGo",Ie="_vcf3J",Be="_Y1y7o",De="_vXk1s",ze="_07Mna";const Re=()=>(0,c.jsx)(t.Flex,{flex:1,justify:"center",children:(0,c.jsx)("div",{className:Ie,children:(0,c.jsx)(t.Skeleton,{active:!0})})}),Ue=e=>{let{title:n,extra:s=null,back:l,buttonProps:r,children:u,toolbar:p=!0,navbar:h=!0,noPadding:x}=e;const{setToolbarShow:f,setNavbarShow:g,setMenuOpen:j,deviceIsMobile:v,userAvatar:y}=Ne(),N=(0,d.useNavigate)();(0,a.useEffect)(()=>{f&&f(!!p),g&&g(!!h)},[p,h]);const b=h?(0,c.jsxs)(t.Flex,{justify:"space-between",align:"center",gap:20,className:i()("page-header",Fe),children:[(0,c.jsxs)(t.Flex,{className:i()("page-title-outer",Te),align:"center",gap:4,children:[l&&(0,c.jsx)(t.Button,{type:"text",icon:(0,c.jsx)(m.default,{className:ze,type:"a-Typearrow_forward_ios",fontClassName:"system"}),onClick:()=>{N(-1)}}),!l&&v&&(0,c.jsx)(t.Button,{type:"link",icon:(0,c.jsx)(m.default,{className:ze,type:"a-Typeequal",fontClassName:"system"}),onClick:()=>{j(e=>!e)}}),(0,c.jsx)("div",{className:i()("page-title",Ae),children:n})]}),(0,c.jsx)("div",{className:i()("page-title-extra",Le),children:s||(v?(0,c.jsxs)(t.Flex,{gap:4,align:"center",children:[r&&(0,c.jsx)(F.Ay,S({},Object.assign({},r,v?{showLength:0,moreType:"link"}:{}))),(0,c.jsx)(o._V.Avatar,{id:y,src:y,shape:"circle",size:30,alt:"avatar"})]}):r&&(0,c.jsx)(F.Ay,S({},r)))})]}):null,_=i()("page-inner",Me),w=i()(_,{"no-padding":x,[Pe]:x}),C=e=>{let{children:n,className:s}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:Be}),(0,c.jsxs)(t.Flex,{vertical:!0,flex:1,children:[b,(0,c.jsx)(t.Flex,{vertical:!0,flex:1,className:i()(_,s),children:n})]}),(0,c.jsx)("div",{className:De})]})};return(0,c.jsx)(t.Flex,{vertical:!0,flex:1,className:i()("page",Ee,{"is-mobile":v,[Se]:v}),children:"function"===typeof u?u({navbar:b,className:w,render:C,pageLoading:C({children:(0,c.jsx)(Re,{})})}):C({children:u})})};Ue.PageLoading=Re;const Ve={colorBgContainer:"transparent"},We={components:L()({},P()(["Input","InputNumber","Card","Tree","Select","DatePicker"],(e,n)=>{e[n]=Ve},{}))};s.e(239).then(s.t.bind(s,96239,23))}}]);
//# sourceMappingURL=948.b72577d3.chunk.js.map
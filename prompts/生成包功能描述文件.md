# 生成包功能描述文件(package-manifest.json)的通用提示词

## 任务描述

为一个JavaScript/TypeScript包项目生成`package-manifest.json`文件，该文件用于描述包的主要功能、导出模块、组件API等详细信息。

## 实施步骤

### 1. 分析项目结构

- 查看`package.json`了解包的基本信息
- 分析主入口文件(`index.js`/`index.ts`)的导出内容
- 检查源代码目录结构，识别所有可导出的模块/组件

### 2. 识别导出模块

- 默认导出：通常标记为`default`
- 命名导出：所有具名导出的组件、函数、类等

### 3. 分析每个模块的功能

对于每个导出的模块，需要收集以下信息：

#### React组件
- **description**: 组件的主要功能描述
- **type**: 通常为`ReactNode`
- **props**: 组件的所有属性，包括：
  - 属性名
  - 属性描述
  - 属性类型（支持联合类型，如`string|number`,不能使用下面`类型定义规范`定义之外的类型）

#### 函数/类
- **description**: 功能描述
- **type**: 返回值类型
- **parameters**: 参数列表（如果有）
- **properties**: 类属性（如果是类）

#### 常量/对象
- **description**: 用途描述
- **type**: 数据类型
- **properties**: 对象属性结构

### 4. 构建JSON结构

```json
{
  "description": "包的主要导出模块入口",
  "modules": {
    "模块名": {
      "description": "模块功能描述",
      "type": "类型声明",
      // 根据模块类型可能包含以下字段
      "props": {}, // React组件属性
      "parameters": [], // 函数参数
      "properties": {}, // 对象/类属性
      "returns": "返回值类型" // 函数返回值
    }
  }
}
```

## 类型定义规范

### 基础类型
- `string`: 字符串
- `number`: 数字
- `boolean`: 布尔值
- `object`: 对象
- `array`: 数组
- `function`: 函数
- `Date`: 日期对象
- `Promise`: Promise对象
- `RegExp`: 正则表达式
- `Error`: 错误对象
- `undefined`: 未定义
- `null`: 空值
- `any`: 任意类型
- `void`: 无返回值
- `unknown`: 未知类型
- `ReactNode`: React节点（组件专用）

### 联合类型
使用`|`连接多种类型：
- `string|ReactNode`: 字符串或React节点
- `number|object`: 数字或对象
- `function|null`: 函数或null

### 复杂类型
- `object[]`: 对象数组
- `ReactNode[]`: React节点数组
- `string[]`: 字符串数组

## 优先级排序

1. **主要组件**: 包中最核心、最常用的组件
2. **辅助组件**: 支持性组件
3. **工具函数**: 纯函数、工具方法
4. **类型定义**: TypeScript类型、接口
5. **常量配置**: 配置对象、常量

## 属性命名约定

### 通用属性
- `className`: CSS类名
- `children`: 子元素
- `style`: 样式对象
- `title`: 标题
- `description`: 描述

## 描述编写原则

1. **简洁明确**: 一句话说明核心功能
2. **用户视角**: 从使用者的角度描述
3. **突出价值**: 说明解决了什么问题
4. **避免实现细节**: 不描述内部实现逻辑

## 示例格式

### React组件示例
```json
{
  "FormModal": {
    "description": "模态框表单组件，在弹窗中展示表单",
    "type": "ReactNode",
    "props": {
      "open": {
        "description": "是否打开模态框",
        "type": "boolean"
      },
      "title": {
        "description": "模态框标题",
        "type": "ReactNode"
      },
      "onSubmit": {
        "description": "提交回调函数",
        "type": "function"
      }
    }
  }
}
```

### 工具函数示例
```json
{
  "formatDate": {
    "description": "格式化日期字符串",
    "type": "string",
    "parameters": [
      {
        "name": "format",
        "description": "格式化模板",
        "type": "string"
      }
    ]
  }
}
```

## 文件位置

将生成的`package-manifest.json`文件放置在：
- `src/package-manifest.json`

## 使用场景

- 自动化API文档生成
- IDE智能提示和自动补全
- 包管理和分发平台的组件展示
- 团队协作时的API参考
- 第三方工具的集成和分析

## 注意事项

- 避免包含内部实现细节
- 不要包含私有方法和属性
- 确保向后兼容性
- 定期更新以匹配代码变更
- 考虑国际化需求（如需要）